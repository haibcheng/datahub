# Information about the application
- name: mats-datahub
  repository: https://github.com/cobble19/datahub.git
  graceful_shutdown: false
  metadata:
    - url: "https://metadata.prod.infra.webex.com"
      cert-id: "wap-metadata-service-prod-client-cert"
      key-id: "wap-metadata-service-prod-client-key"
  registries:
    - name: "registry-qa.webex.com"
      namespace: "wap-datahub"
      component: "csr"
      service_group: "webex-wap"
      operation_type: "QA-Done"
      type: docker
      jenkins-id: "mats_credential_id_github_token"
      publish: true
      publish-always: true  # only used in workshop, for publish branch images.
      docker:
        - dockerfile: ./Dockerfile4Csr
          lint:
            enable: false # skip in workshop
          scan:
            enable: false # skip in workshop
          build: true
    - name: "registry-qa.webex.com"
      namespace: "wap-datahub"
      component: "gms"
      service_group: "webex-wap"
      operation_type: "QA-Done"
      type: docker
      jenkins-id: "mats_credential_id_github_token"
      publish: true
      publish-always: true  # only used in workshop, for publish branch images.
      docker:
        - dockerfile: ./Dockerfile4Gms
          lint:
            enable: false # skip in workshop
          scan:
            enable: false # skip in workshop
          build: true
    - name: "registry-qa.webex.com"
      namespace: "wap-datahub"
      component: "actions"
      service_group: "webex-wap"
      operation_type: "QA-Done"
      type: docker
      jenkins-id: "mats_credential_id_github_token"
      publish: true
      publish-always: true  # only used in workshop, for publish branch images.
      docker:
        - dockerfile: ./Dockerfile4Actions
          lint:
            enable: false # skip in workshop
          scan:
            enable: false # skip in workshop
          build: true
    - name: "registry-qa.webex.com"
      namespace: "wap-datahub"
      component: "frontend"
      service_group: "webex-wap"
      operation_type: "QA-Done"
      type: docker
      jenkins-id: "mats_credential_id_github_token"
      publish: true
      publish-always: true  # only used in workshop, for publish branch images.
      docker:
        - dockerfile: ./Dockerfile4Frontend
          lint:
            enable: false # skip in workshop
          scan:
            enable: false # skip in workshop
          build: true
#    - name: "registry-qa.webex.com"
#      namespace: "webexkubed"
#      component: "iw-backend"
#      service_group: "wxsa-sre-apps"
#      operation_type: "QA-Done"
#      type: docker
#      jenkins-id: "WBXKUBED_GIT_CREDENTIALS"
#      publish: true
#      publish-always: true  # only used in workshop, for publish branch images.
#      docker:
#        - dockerfile: ./app/iw-backend/Dockerfile
#          lint:
#            enable: false # skip in workshop
#          scan:
#            enable: false # skip in workshop
#          build: true
  security:
    - policy-repo: https://sqbu-github.cisco.com/WebexPlatform/wbx3-policies.git
      bundle: meetpaas_default_bundle.json
      jenkins-id: "mats_credential_id_sqbu_token"
      threat-levels:
        - "Critical"
#        - "High"
      # whether to fail builds. Set this to true if you wish to gate
      gate: false
  contact:
    - mailer:
        - bange@cisco.com
      teams-space-id: 314f3490-c3a4-11ec-90a2-b1e8fb48d277
      teams-jenkins-id: ""
